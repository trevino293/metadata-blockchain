# 🔗 GCP Robust Blockchain Connection Info
# Generated: 07/09/2025 16:42:41

## 📋 Basic Information
Project ID: metadata-blockchain
VM Name: blockchain-node
Zone: us-central1-a
VM IP: 104.198.138.52

## 🌐 API Endpoints
Health Check: http://104.198.138.52:8080/health
Status: http://104.198.138.52:8080/status
Blocks: http://104.198.138.52:8080/blocks
Transactions: http://104.198.138.52:8080/transactions
Debug Info: http://104.198.138.52:8080/debug

## 🧪 Quick Test Commands (PowerShell)
# Check status
Invoke-RestMethod -Uri "http://104.198.138.52:8080/status"

# Publish test message
gcloud pubsub topics publish metadata-events --message='{"operation":"TEST","entity":"Manual","id":"MANUAL_001"}' --project=metadata-blockchain

# View blocks
Invoke-RestMethod -Uri "http://104.198.138.52:8080/blocks"

# Debug information
Invoke-RestMethod -Uri "http://104.198.138.52:8080/debug"

## 🔧 Management Commands
# VM logs
gcloud compute ssh blockchain-node --zone=us-central1-a --command='sudo journalctl -u blockchain -f' --project=metadata-blockchain

# Service status  
gcloud compute ssh blockchain-node --zone=us-central1-a --command='systemctl status blockchain' --project=metadata-blockchain

# Restart service
gcloud compute ssh blockchain-node --zone=us-central1-a --command='sudo systemctl restart blockchain' --project=metadata-blockchain

# VM management
gcloud compute instances stop blockchain-node --zone=us-central1-a --project=metadata-blockchain
gcloud compute instances start blockchain-node --zone=us-central1-a --project=metadata-blockchain

## 🧹 Cleanup Commands
# Test cleanup (keep for reference)
# .\cleanup-simple.ps1 -ProjectId "metadata-blockchain" -Force

## 📊 Features
✅ Robust JSON parsing (handles gcloud CLI formatting issues)
✅ Smart block creation (timeout-based and count-based)
✅ Comprehensive error handling and recovery
✅ Detailed logging and debugging endpoints
✅ Auto-restart on failures
✅ Duplicate message prevention
✅ CORS-enabled API for web interfaces
